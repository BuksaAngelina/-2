<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Віртуальна планіметрична майстерня</title>

    <script src="assets/aframe/aframe-1.7.0.min.js"></script>
    <script src="assets/aframe/aframe-orbit-controls-1.3.2.js"></script>

    <script src="assets/js/math-utils.js"></script>         <script src="assets/js/draggable-component.js"></script> <script src="assets/js/polygon-logic.js"></script>     <script src="assets/js/ui-manager.js"></script>         <style>
        body { margin: 0; overflow: hidden; } /* Щоб A-Frame сцена займала весь екран */
        #ui-panel {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: sans-serif;
            max-width: 300px;
            z-index: 100; /* Переконайтеся, що панель завжди поверх 3D-сцени */
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        #ui-panel h2, #ui-panel h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #fff;
        }
        #ui-panel label {
            display: block;
            margin-bottom: 5px;
            font-size: 1em;
        }
        #ui-panel input[type="range"] {
            width: 100%;
            margin-bottom: 10px;
        }
        #ui-panel button {
            background-color: #4CAF50;
            color: white;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        #ui-panel button:hover {
            background-color: #45a049;
        }
        #measurements-output {
            margin-top: 10px;
            white-space: pre-wrap; /* Зберігає форматування переносів рядків */
            font-size: 0.85em;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 8px;
            border-radius: 4px;
        }
    </style>
    <link rel="stylesheet" href="assets/css/demo.css">
</head>
<body>
    <div id="ui-panel">
        <h2>Планіметрична Лабораторія</h2>
        <label for="num-sides">Кількість сторін:</label>
        <input type="range" id="num-sides" min="3" max="12" value="4">
        <span id="sides-value">4</span>

        <p>
            <label for="polygon-size">Розмір:</label>
            <input type="range" id="polygon-size" min="0.5" max="5" step="0.1" value="2">
            <span id="size-value">2</span>
        </p>

        <button id="highlight-angles-btn">Показати Кути</button>
        <button id="show-measurements-btn">Показати Виміри</button>
        <button id="toggle-drag-btn">Вкл/Викл Перетягування</button>
        <button id="next-theorem-step">Наступний Крок Теореми</button>
        <button id="prev-theorem-step">Попередній Крок Теореми</button>

        <h3>Виміри:</h3>
        <pre id="measurements-output"></pre>
    </div>

    <a-scene background="color: #ECECEC" cursor="rayOrigin: mouse" raycaster="objects: .collidable">
        <a-entity camera orbit-controls="target: 0 0 0; minDistance: 2; maxDistance: 10; initialPosition: 0 5 5; rotateSpeed: 2.0;"></a-entity>

        <a-entity
            id="polygon-container"
            polygon-generator="numSides: 4; size: 2;"> </a-entity>

        <a-assets>
            <a-mixin id="angle-text" text="shader: msdf; font: https://cdn.aframe.io/fonts/DejaVu-sdf.json; width: 0.5; color: #000; wrapCount: 10"></a-mixin>
            <a-mixin id="side-text" text="shader: msdf; font: https://cdn.aframe.io/fonts/DejaVu-sdf.json; width: 0.5; color: #000; wrapCount: 10"></a-mixin>
        </a-assets>

        <a-cursor></a-cursor>

        <a-plane static-body rotation="-90 0 0" width="10" height="10" color="#7BC8A4" opacity="0.2"></a-plane>

    </a-scene>
</body>
</html>